# vim:syntax=python
from numpy.distutils.scons import GetNumpyEnvironment, NumpyCheckLib

env = GetNumpyEnvironment(ARGUMENTS)

config = env.Configure(custom_tests = {'NumpyCheckLib' : NumpyCheckLib})
config.CheckHeader('stdio.h')
config.CheckLib('c', 'printf')
#config.NumpyCheckLib('sndfile', 'sndfile', 'sf_open')
config.NumpyCheckLib('bmeps', 'bmeps')
config.NumpyCheckLib('atlas', ['atlas', 'f77blas', 'cblas'])
config.Finish()

source = ['foo.c']
import sys
if sys.platform == 'win32':
    env.AppendUnique(CPPDEFINES = 'WIN32')
env.NumpyCTypes('foo', source)
